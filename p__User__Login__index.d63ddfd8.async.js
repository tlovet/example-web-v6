"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[366],{6753:function(fe,A,t){t.r(A),t.d(A,{default:function(){return ge}});var b=t(15009),M=t.n(b),P=t(97857),m=t.n(P),G=t(99289),p=t.n(G),U=t(5574),h=t.n(U),T=t(67294),B=Object.defineProperty,E=Object.getOwnPropertySymbols,Q=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable,D=(r,a,s)=>a in r?B(r,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[a]=s,W=(r,a)=>{for(var s in a||(a={}))Q.call(a,s)&&D(r,s,a[s]);if(E)for(var s of E(a))Y.call(a,s)&&D(r,s,a[s]);return r};const pe=r=>React.createElement("svg",W({xmlns:"http://www.w3.org/2000/svg",width:200,height:200},r),React.createElement("title",null,"Group 28 Copy 5"),React.createElement("defs",null,React.createElement("linearGradient",{id:"logo_svg__a",x1:"62.102%",x2:"108.197%",y1:"0%",y2:"37.864%"},React.createElement("stop",{offset:"0%",stopColor:"#4285EB"}),React.createElement("stop",{offset:"100%",stopColor:"#2EC7FF"})),React.createElement("linearGradient",{id:"logo_svg__b",x1:"69.644%",x2:"54.043%",y1:"0%",y2:"108.457%"},React.createElement("stop",{offset:"0%",stopColor:"#29CDFF"}),React.createElement("stop",{offset:"37.86%",stopColor:"#148EFF"}),React.createElement("stop",{offset:"100%",stopColor:"#0A60FF"})),React.createElement("linearGradient",{id:"logo_svg__c",x1:"69.691%",x2:"16.723%",y1:"-12.974%",y2:"117.391%"},React.createElement("stop",{offset:"0%",stopColor:"#FA816E"}),React.createElement("stop",{offset:"41.473%",stopColor:"#F74A5C"}),React.createElement("stop",{offset:"100%",stopColor:"#F51D2C"})),React.createElement("linearGradient",{id:"logo_svg__d",x1:"68.128%",x2:"30.44%",y1:"-35.691%",y2:"114.943%"},React.createElement("stop",{offset:"0%",stopColor:"#FA8E7D"}),React.createElement("stop",{offset:"51.264%",stopColor:"#F74A5C"}),React.createElement("stop",{offset:"100%",stopColor:"#F51D2C"}))),React.createElement("g",{fill:"none",fillRule:"evenodd"},React.createElement("g",{fillRule:"nonzero"},React.createElement("path",{fill:"url(#logo_svg__a)",d:"M91.588 4.177 4.18 91.513a11.981 11.981 0 0 0 0 16.974l87.408 87.336a12.005 12.005 0 0 0 16.989 0l36.648-36.618c4.209-4.205 4.209-11.023 0-15.228-4.208-4.205-11.031-4.205-15.24 0l-27.783 27.76c-1.17 1.169-2.945 1.169-4.114 0l-69.802-69.744c-1.17-1.169-1.17-2.942 0-4.11l69.802-69.745c1.17-1.169 2.944-1.169 4.114 0l27.783 27.76c4.209 4.205 11.032 4.205 15.24 0 4.209-4.205 4.209-11.022 0-15.227L108.581 4.056c-4.719-4.594-12.312-4.557-16.993.12Z"}),React.createElement("path",{fill:"url(#logo_svg__b)",d:"M91.588 4.177 4.18 91.513a11.981 11.981 0 0 0 0 16.974l87.408 87.336a12.005 12.005 0 0 0 16.989 0l36.648-36.618c4.209-4.205 4.209-11.023 0-15.228-4.208-4.205-11.031-4.205-15.24 0l-27.783 27.76c-1.17 1.169-2.945 1.169-4.114 0l-69.802-69.744c-1.17-1.169-1.17-2.942 0-4.11l69.802-69.745c2.912-2.51 7.664-7.596 14.642-8.786 5.186-.883 10.855 1.062 17.009 5.837L108.58 4.056c-4.719-4.594-12.312-4.557-16.993.12Z"}),React.createElement("path",{fill:"url(#logo_svg__c)",d:"M153.686 135.855c4.208 4.205 11.031 4.205 15.24 0l27.034-27.012c4.7-4.696 4.7-12.28 0-16.974l-27.27-27.15c-4.218-4.2-11.043-4.195-15.254.013-4.209 4.205-4.209 11.022 0 15.227l18.418 18.403c1.17 1.169 1.17 2.943 0 4.111l-18.168 18.154c-4.209 4.205-4.209 11.023 0 15.228Z"})),React.createElement("ellipse",{cx:100.519,cy:100.437,fill:"url(#logo_svg__d)",rx:23.6,ry:23.581})));var k="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIj48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9ImEiIHgxPSI2Mi4xMDIlIiB4Mj0iMTA4LjE5NyUiIHkxPSIwJSIgeTI9IjM3Ljg2NCUiPjxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiM0Mjg1RUIiLz48c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiMyRUM3RkYiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgeDE9IjY5LjY0NCUiIHgyPSI1NC4wNDMlIiB5MT0iMCUiIHkyPSIxMDguNDU3JSI+PHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iIzI5Q0RGRiIvPjxzdG9wIG9mZnNldD0iMzcuODYlIiBzdG9wLWNvbG9yPSIjMTQ4RUZGIi8+PHN0b3Agb2Zmc2V0PSIxMDAlIiBzdG9wLWNvbG9yPSIjMEE2MEZGIi8+PC9saW5lYXJHcmFkaWVudD48bGluZWFyR3JhZGllbnQgaWQ9ImMiIHgxPSI2OS42OTElIiB4Mj0iMTYuNzIzJSIgeTE9Ii0xMi45NzQlIiB5Mj0iMTE3LjM5MSUiPjxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiNGQTgxNkUiLz48c3RvcCBvZmZzZXQ9IjQxLjQ3MyUiIHN0b3AtY29sb3I9IiNGNzRBNUMiLz48c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNGNTFEMkMiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iZCIgeDE9IjY4LjEyOCUiIHgyPSIzMC40NCUiIHkxPSItMzUuNjkxJSIgeTI9IjExNC45NDMlIj48c3RvcCBvZmZzZXQ9IjAlIiBzdG9wLWNvbG9yPSIjRkE4RTdEIi8+PHN0b3Agb2Zmc2V0PSI1MS4yNjQlIiBzdG9wLWNvbG9yPSIjRjc0QTVDIi8+PHN0b3Agb2Zmc2V0PSIxMDAlIiBzdG9wLWNvbG9yPSIjRjUxRDJDIi8+PC9saW5lYXJHcmFkaWVudD48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48ZyBmaWxsLXJ1bGU9Im5vbnplcm8iPjxwYXRoIGZpbGw9InVybCgjYSkiIGQ9Ik05MS41ODggNC4xNzcgNC4xOCA5MS41MTNhMTEuOTgxIDExLjk4MSAwIDAgMCAwIDE2Ljk3NGw4Ny40MDggODcuMzM2YTEyLjAwNSAxMi4wMDUgMCAwIDAgMTYuOTg5IDBsMzYuNjQ4LTM2LjYxOGM0LjIwOS00LjIwNSA0LjIwOS0xMS4wMjMgMC0xNS4yMjgtNC4yMDgtNC4yMDUtMTEuMDMxLTQuMjA1LTE1LjI0IDBsLTI3Ljc4MyAyNy43NmMtMS4xNyAxLjE2OS0yLjk0NSAxLjE2OS00LjExNCAwbC02OS44MDItNjkuNzQ0Yy0xLjE3LTEuMTY5LTEuMTctMi45NDIgMC00LjExbDY5LjgwMi02OS43NDVjMS4xNy0xLjE2OSAyLjk0NC0xLjE2OSA0LjExNCAwbDI3Ljc4MyAyNy43NmM0LjIwOSA0LjIwNSAxMS4wMzIgNC4yMDUgMTUuMjQgMCA0LjIwOS00LjIwNSA0LjIwOS0xMS4wMjIgMC0xNS4yMjdMMTA4LjU4MSA0LjA1NmMtNC43MTktNC41OTQtMTIuMzEyLTQuNTU3LTE2Ljk5My4xMloiLz48cGF0aCBmaWxsPSJ1cmwoI2IpIiBkPSJNOTEuNTg4IDQuMTc3IDQuMTggOTEuNTEzYTExLjk4MSAxMS45ODEgMCAwIDAgMCAxNi45NzRsODcuNDA4IDg3LjMzNmExMi4wMDUgMTIuMDA1IDAgMCAwIDE2Ljk4OSAwbDM2LjY0OC0zNi42MThjNC4yMDktNC4yMDUgNC4yMDktMTEuMDIzIDAtMTUuMjI4LTQuMjA4LTQuMjA1LTExLjAzMS00LjIwNS0xNS4yNCAwbC0yNy43ODMgMjcuNzZjLTEuMTcgMS4xNjktMi45NDUgMS4xNjktNC4xMTQgMGwtNjkuODAyLTY5Ljc0NGMtMS4xNy0xLjE2OS0xLjE3LTIuOTQyIDAtNC4xMWw2OS44MDItNjkuNzQ1YzIuOTEyLTIuNTEgNy42NjQtNy41OTYgMTQuNjQyLTguNzg2IDUuMTg2LS44ODMgMTAuODU1IDEuMDYyIDE3LjAwOSA1LjgzN0wxMDguNTggNC4wNTZjLTQuNzE5LTQuNTk0LTEyLjMxMi00LjU1Ny0xNi45OTMuMTJaIi8+PHBhdGggZmlsbD0idXJsKCNjKSIgZD0iTTE1My42ODYgMTM1Ljg1NWM0LjIwOCA0LjIwNSAxMS4wMzEgNC4yMDUgMTUuMjQgMGwyNy4wMzQtMjcuMDEyYzQuNy00LjY5NiA0LjctMTIuMjggMC0xNi45NzRsLTI3LjI3LTI3LjE1Yy00LjIxOC00LjItMTEuMDQzLTQuMTk1LTE1LjI1NC4wMTMtNC4yMDkgNC4yMDUtNC4yMDkgMTEuMDIyIDAgMTUuMjI3bDE4LjQxOCAxOC40MDNjMS4xNyAxLjE2OSAxLjE3IDIuOTQzIDAgNC4xMTFsLTE4LjE2OCAxOC4xNTRjLTQuMjA5IDQuMjA1LTQuMjA5IDExLjAyMyAwIDE1LjIyOFoiLz48L2c+PGVsbGlwc2UgY3g9IjEwMC41MTkiIGN5PSIxMDAuNDM3IiBmaWxsPSJ1cmwoI2QpIiByeD0iMjMuNiIgcnk9IjIzLjU4MSIvPjwvZz48L3N2Zz4=",H=t(56624),V=t(2618),n=t(80854);function J(r,a){return y.apply(this,arguments)}function y(){return y=p()(M()().mark(function r(a,s){return M()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",(0,n.request)("/api/login/captcha",m()({method:"GET",params:m()({},a)},s||{})));case 1:case"end":return f.stop()}},r)})),y.apply(this,arguments)}var X=t(88777),$=t(96833),K=t(97487),q=t(87547),w=t(94149),_=t(24454),ee=t(68262),v=t(5966),te=t(16434),ae=t(63434),C=t(24556),se=t(38925),S=t(45360),re=t(34755),le=t(73935),ne=t(67610),e=t(85893),ie=function(){var a=(0,C.l)(function(s){var j=s.token;return{marginLeft:"8px",color:"rgba(0, 0, 0, 0.2)",fontSize:"24px",verticalAlign:"middle",cursor:"pointer",transition:"color 0.3s","&:hover":{color:j.colorPrimaryActive}}});return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(X.Z,{className:a},"AlipayCircleOutlined"),(0,e.jsx)($.Z,{className:a},"TaobaoCircleOutlined"),(0,e.jsx)(K.Z,{className:a},"WeiboCircleOutlined")]})},oe=function(){var a=(0,C.l)(function(s){var j=s.token;return{width:42,height:42,lineHeight:"42px",position:"fixed",right:16,borderRadius:j.borderRadius,":hover":{backgroundColor:j.colorBgTextHover}}});return(0,e.jsx)("div",{className:a,children:n.SelectLang&&(0,e.jsx)(n.SelectLang,{})})},F=function(a){var s=a.content;return(0,e.jsx)(se.Z,{style:{marginBottom:24},message:s,type:"error",showIcon:!0})},ue=function(){var a=(0,T.useState)({}),s=h()(a,2),j=s[0],f=s[1],ce=(0,T.useState)("account"),O=h()(ce,2),N=O[0],Me=O[1],Z=(0,n.useModel)("@@initialState"),x=Z.initialState,de=Z.setInitialState,je=(0,C.l)(function(){return{display:"flex",flexDirection:"column",height:"100vh",overflow:"auto",backgroundImage:"url('https://mdn.alipayobjects.com/yuyan_qk0oxh/afts/img/V-_oS6r-i7wAAAAAAAAAAAAAFl94AQBr')",backgroundSize:"100% 100%"}}),o=(0,n.useIntl)(),Ie=function(){var I=p()(M()().mark(function u(){var g,c;return M()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,x==null||(g=x.fetchUserInfo)===null||g===void 0?void 0:g.call(x);case 2:c=l.sent,c&&(0,le.flushSync)(function(){de(function(L){return m()(m()({},L),{},{currentUser:c})})});case 4:case"end":return l.stop()}},u)}));return function(){return I.apply(this,arguments)}}(),me=function(){var I=p()(M()().mark(function u(g){var c,d,l,L;return M()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,(0,V.x4)(m()(m()({},g),{},{type:N}));case 3:if(c=i.sent,c.status!=="ok"){i.next=12;break}return d=o.formatMessage({id:"pages.login.success",defaultMessage:"\u767B\u5F55\u6210\u529F\uFF01"}),S.ZP.success(d),i.next=9,Ie();case 9:return l=new URL(window.location.href).searchParams,n.history.push(l.get("redirect")||"/"),i.abrupt("return");case 12:console.log(c),f(c),i.next=21;break;case 16:i.prev=16,i.t0=i.catch(0),L=o.formatMessage({id:"pages.login.failure",defaultMessage:"\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01"}),console.log(i.t0),S.ZP.error(L);case 21:case"end":return i.stop()}},u,null,[[0,16]])}));return function(g){return I.apply(this,arguments)}}(),z=j.status,R=j.type;return(0,e.jsxs)("div",{className:je,children:[(0,e.jsx)(n.Helmet,{children:(0,e.jsxs)("title",{children:[o.formatMessage({id:"menu.login",defaultMessage:"\u767B\u5F55\u9875"}),"- ",ne.Z.title]})}),(0,e.jsx)(oe,{}),(0,e.jsx)("div",{style:{flex:"1",padding:"32px 0"},children:(0,e.jsxs)(ee.U,{contentStyle:{minWidth:280,maxWidth:"75vw"},logo:(0,e.jsx)("img",{alt:"logo",src:k}),title:"Ant Design",subTitle:o.formatMessage({id:"pages.layouts.userLayout.title"}),initialValues:{autoLogin:!0},actions:[(0,e.jsx)(n.FormattedMessage,{id:"pages.login.loginWith",defaultMessage:"\u5176\u4ED6\u767B\u5F55\u65B9\u5F0F"},"loginWith"),(0,e.jsx)(ie,{},"icons")],onFinish:function(){var I=p()(M()().mark(function u(g){return M()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,me(g);case 2:case"end":return d.stop()}},u)}));return function(u){return I.apply(this,arguments)}}(),children:[(0,e.jsx)(re.Z,{activeKey:N,onChange:Me,centered:!0,items:[{key:"account",label:o.formatMessage({id:"pages.login.accountLogin.tab",defaultMessage:"\u8D26\u6237\u5BC6\u7801\u767B\u5F55"})},{key:"mobile",label:o.formatMessage({id:"pages.login.phoneLogin.tab",defaultMessage:"\u624B\u673A\u53F7\u767B\u5F55"})}]}),z==="error"&&R==="account"&&(0,e.jsx)(F,{content:o.formatMessage({id:"pages.login.accountLogin.errorMessage",defaultMessage:"\u8D26\u6237\u6216\u5BC6\u7801\u9519\u8BEF(admin/ant.design)"})}),N==="account"&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(v.Z,{name:"username",fieldProps:{size:"large",prefix:(0,e.jsx)(q.Z,{})},placeholder:o.formatMessage({id:"pages.login.username.placeholder",defaultMessage:"\u7528\u6237\u540D: admin or user"}),rules:[{required:!0,message:(0,e.jsx)(n.FormattedMessage,{id:"pages.login.username.required",defaultMessage:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"})}]}),(0,e.jsx)(v.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,e.jsx)(w.Z,{})},placeholder:o.formatMessage({id:"pages.login.password.placeholder",defaultMessage:"\u5BC6\u7801: ant.design"}),rules:[{required:!0,message:(0,e.jsx)(n.FormattedMessage,{id:"pages.login.password.required",defaultMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})}]})]}),z==="error"&&R==="mobile"&&(0,e.jsx)(F,{content:"\u9A8C\u8BC1\u7801\u9519\u8BEF"}),N==="mobile"&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(v.Z,{fieldProps:{size:"large",prefix:(0,e.jsx)(_.Z,{})},name:"mobile",placeholder:o.formatMessage({id:"pages.login.phoneNumber.placeholder",defaultMessage:"\u624B\u673A\u53F7"}),rules:[{required:!0,message:(0,e.jsx)(n.FormattedMessage,{id:"pages.login.phoneNumber.required",defaultMessage:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\uFF01"})},{pattern:/^1\d{10}$/,message:(0,e.jsx)(n.FormattedMessage,{id:"pages.login.phoneNumber.invalid",defaultMessage:"\u624B\u673A\u53F7\u683C\u5F0F\u9519\u8BEF\uFF01"})}]}),(0,e.jsx)(te.Z,{fieldProps:{size:"large",prefix:(0,e.jsx)(w.Z,{})},captchaProps:{size:"large"},placeholder:o.formatMessage({id:"pages.login.captcha.placeholder",defaultMessage:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"}),captchaTextRender:function(u,g){return u?"".concat(g," ").concat(o.formatMessage({id:"pages.getCaptchaSecondText",defaultMessage:"\u83B7\u53D6\u9A8C\u8BC1\u7801"})):o.formatMessage({id:"pages.login.phoneLogin.getVerificationCode",defaultMessage:"\u83B7\u53D6\u9A8C\u8BC1\u7801"})},name:"captcha",rules:[{required:!0,message:(0,e.jsx)(n.FormattedMessage,{id:"pages.login.captcha.required",defaultMessage:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801\uFF01"})}],onGetCaptcha:function(){var I=p()(M()().mark(function u(g){var c;return M()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,J({phone:g});case 2:if(c=l.sent,c){l.next=5;break}return l.abrupt("return");case 5:S.ZP.success("\u83B7\u53D6\u9A8C\u8BC1\u7801\u6210\u529F\uFF01\u9A8C\u8BC1\u7801\u4E3A\uFF1A1234");case 6:case"end":return l.stop()}},u)}));return function(u){return I.apply(this,arguments)}}()})]}),(0,e.jsxs)("div",{style:{marginBottom:24},children:[(0,e.jsx)(ae.Z,{noStyle:!0,name:"autoLogin",children:(0,e.jsx)(n.FormattedMessage,{id:"pages.login.rememberMe",defaultMessage:"\u81EA\u52A8\u767B\u5F55"})}),(0,e.jsx)("a",{style:{float:"right"},children:(0,e.jsx)(n.FormattedMessage,{id:"pages.login.forgotPassword",defaultMessage:"\u5FD8\u8BB0\u5BC6\u7801"})})]})]})}),(0,e.jsx)(H.$_,{})]})},ge=ue}}]);
